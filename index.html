<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="title">Minimalistický Prohlížeč - Rychlost a Soukromí</title>
    <style>
        /*
         * Základní Futuristiký Styl - Minimalistický Prohlížeč
         * Ponechán podobný styl, ale s barevným schématem prohlížeče (#ff0066)
         */

        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght{400;700}&display=swap');

        :root {
            --dark-bg: #1a1a1a; /* Z pozadí prohlížeče */
            --main-text: #E0E0E0;
            --accent-neon: #ff0066; /* Zvýrazňující barva prohlížeče */
            --accent-glow-light: rgba(255, 0, 102, 0.4);
            --accent-glow-strong: rgba(255, 0, 102, 0.7);
            --header-bg: #1F1F1F;
            --section-bg: rgba(30, 30, 30, 0.7);
            --modal-bg: #0A0A0A;
            --link-hover: #CC0052;
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--dark-bg);
            color: var(--main-text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            text-align: center;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- Animace (keyframes) --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes neonGlow {
            0% { text-shadow: 0 0 5px var(--accent-neon), 0 0 10px var(--accent-glow-light); }
            50% { text-shadow: 0 0 10px var(--accent-neon), 0 0 20px var(--accent-glow-strong); }
            100% { text-shadow: 0 0 5px var(--accent-neon), 0 0 10px var(--accent-glow-light); }
        }

        @keyframes modalPop {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* --- Hlavička a Sekce --- */
        header { animation: fadeIn 1s ease-out; background-color: var(--header-bg); padding: 40px 20px; border-bottom: 2px solid var(--accent-neon); box-shadow: 0 4px 15px var(--accent-glow-light); position: relative; } /* position: relative pro language-switcher */
        header h1 { animation: neonGlow 1.5s ease-in-out infinite alternate; font-family: 'Orbitron', sans-serif; font-size: 3.5em; color: var(--accent-neon); text-shadow: 0 0 10px var(--accent-glow-light); letter-spacing: 4px; }
        section { animation: fadeIn 1s ease-out 0.4s backwards; background: var(--section-bg); padding: 60px 20px; border-radius: 8px; border: 1px solid rgba(255, 0, 102, 0.1); margin-top: 40px; }
        h2 { font-family: 'Orbitron', sans-serif; color: var(--accent-neon); text-transform: uppercase; letter-spacing: 2px; border-bottom: 1px dashed var(--accent-neon); display: inline-block; padding-bottom: 5px; text-shadow: 0 0 5px var(--accent-glow-light); }

        /* --- JAZYKOVÁ TLAČÍTKA --- */
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
        }
        .lang-btn {
            background: none;
            border: 1px solid var(--accent-neon);
            color: var(--accent-neon);
            padding: 5px 10px;
            margin-left: 5px;
            cursor: pointer;
            font-family: 'Roboto Mono', monospace;
            transition: background-color 0.2s, color 0.2s;
            text-transform: uppercase;
        }
        .lang-btn:hover, .lang-btn.active {
            background-color: var(--accent-neon);
            color: var(--dark-bg);
            box-shadow: 0 0 10px var(--accent-neon);
        }

        /* --- TLAČÍTKA STÁHNOUT --- */
        .interactive-element {
            display: inline-block;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 10px var(--accent-glow-light);
            border: 1px solid var(--accent-neon);
        }

        .interactive-element:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 0 30px var(--accent-neon), 0 0 10px var(--link-hover), 0 0 50px var(--accent-glow-strong);
            background-color: rgba(255, 0, 102, 0.2);
        }

        .download-btn {
            padding: 15px 30px;
            font-size: 1.5em;
            font-family: 'Orbitron', sans-serif;
            color: var(--dark-bg);
            background-color: var(--accent-neon);
            border: none;
            border-radius: 5px;
            text-transform: uppercase;
        }

        .download-btn:hover {
            background-color: var(--link-hover);
            color: var(--dark-bg);
            box-shadow: 0 0 30px var(--accent-neon), 0 0 10px var(--link-hover), 0 0 50px var(--accent-glow-strong);
            transform: translateY(-5px) scale(1.02);
        }

        .download-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }
        
        /* Odstranění trial stylů, protože je jen jedna možnost */
        .download-options .download-btn {
            margin-top: 0;
            flex-grow: 0;
            font-size: 1.3em;
            padding: 12px 25px;
            border: 1px solid var(--accent-neon);
        }
        

        .features {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
            gap: 20px;
            margin-bottom: 60px; 
        }

        .feature-item {
            flex-basis: calc(33% - 40px);
            max-width: 350px;
            padding: 25px;
            border-radius: 8px;
            background: rgba(40, 40, 40, 0.8);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        
        .feature-item h3 {
            color: var(--accent-neon);
            font-size: 1.3em;
            text-shadow: 0 0 3px var(--accent-glow-light);
        }

        /* --- Porovnávací Tabulka - Nyní Tabulka Vlastností --- */
        .comparison-table {
            width: 80%;
            margin: 40px auto;
            border-collapse: collapse;
            text-align: left;
            border: 1px solid var(--accent-neon);
            box-shadow: 0 0 15px var(--accent-glow-light);
            font-size: 0.9em;
        }

        .comparison-table th, .comparison-table td {
            padding: 12px 15px;
            border: 1px dashed rgba(255, 0, 102, 0.1);
            text-align: center;
        }

        .comparison-table th:first-child, .comparison-table td:first-child {
             text-align: left;
        }

        .comparison-table th {
            background-color: var(--header-bg);
            color: var(--accent-neon);
            text-transform: uppercase;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .comparison-table td {
            background-color: rgba(30, 30, 30, 0.9);
            color: var(--main-text);
        }

        .comparison-table tr:nth-child(even) td {
            background-color: rgba(40, 40, 40, 0.9);
        }

        .comparison-table .feature-name {
            font-weight: bold;
            color: var(--link-hover);
        }

        .check-mark { color: #00FF00; font-weight: bold; } /* Zelená fajfka */
        .cross-mark { color: #FF0000; font-weight: bold; } /* Červený křížek */

        /* MODAL STYLY */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: var(--modal-bg);
            padding: 30px;
            border: 2px solid var(--accent-neon);
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 40px var(--accent-glow-strong);
            animation: modalPop 0.3s ease-out;
            text-align: left;
        }

        .modal-content h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--accent-neon);
            border-bottom: 1px dashed var(--accent-neon);
            padding-bottom: 10px;
            margin-top: 0;
        }

        .modal-content p {
            color: var(--main-text);
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        .close-btn {
            color: var(--accent-neon);
            float: right;
            font-size: 28px;
            font-weight: bold;
            transition: color 0.2s, text-shadow 0.2s;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .language-switcher {
                top: 10px;
                right: 10px;
            }
            .download-options {
                flex-direction: column;
                gap: 15px;
            }
            .download-options .download-btn {
                font-size: 1.1em;
                padding: 10px 20px;
            }
            .comparison-table {
                width: 100%;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="language-switcher">
            <button class="lang-btn" data-lang="cs">CS</button>
            <button class="lang-btn" data-lang="en">EN</button>
        </div>
        <div class="container">
            <h1 data-translate-key="header_h1">:: MINIMALISTICKÝ PROHLÍŽEČ ::</h1>
            <p data-translate-key="header_p">// <strong>Rychlost. Soukromí. Přehled.</strong> //</p>
        </div>
    </header>

    <div class="container">

        <section id="program">
            <h2 data-translate-key="section_h2">> ZAMĚŘENO NA JEDNODUCHOST <</h2>
            <p data-translate-key="section_p1"><strong>Minimalistický Prohlížeč</strong> je postaven na moderním jádře <strong>Chromium (QtWebEngine)</strong>, avšak s radikálně osekaným rozhraním. <strong>Žádné zbytečnosti, jen obsah.</strong></p>
            <p data-translate-key="section_p2">Navrženo pro uživatele, kteří chtějí čisté prostředí, okamžitý start a efektivní správu karet a historie.</p>

            <div class="features">
                <div class="feature-item interactive-element" data-modal-target="modal1">
                    <h3 data-translate-key="feature1_h3">[01] Rychlá Správa Historie</h3>
                    <p data-translate-key="feature1_p">Historie s časovým razítkem, možností mazání a otevírání do nové karty. <strong>[KLIKNĚTE pro detaily]</strong></p>
                </div>
                <div class="feature-item interactive-element" data-modal-target="modal2">
                    <h3 data-translate-key="feature2_h3">[02] Adaptivní Tab Management</h3>
                    <p data-translate-key="feature2_p">Karty, které se samy postarají o spuštění v novém okně (pop-up) a oprava bugu se zvukem. <strong>[KLIKNĚTE pro detaily]</strong></p>
                </div>
                <div class="feature-item interactive-element" data-modal-target="modal3">
                    <h3 data-translate-key="feature3_h3">[03] Persistace a Nastavení</h3>
                    <p data-translate-key="feature3_p">Uložení domovské stránky a historie pro rychlý návrat k práci. <strong>[KLIKNĚTE pro detaily]</strong></p>
                </div>
            </div>

            <div class="download-options">
                <a href="https://drive.google.com/file/d/1XUVHr2WXHUbRa8MWVrO_MbrDJMbc2PFL/view?usp=sharing" class="download-btn interactive-element" target="_blank" data-translate-key="download_btn_full">
                    [ STÁHNOUT .exe (BETA 1.0) ]
                </a>
            </div>
            <p style="margin-top: 15px; font-size: 0.9em; color: var(--accent-neon); text-shadow: 0 0 3px var(--accent-glow-light);" data-translate-key="download_version">Verze BETA 1.0 - Připraveno k testování</p>
        </section>
        
        <section id="comparison">
            <h2 data-translate-key="comparison_h2">> VLASTNOSTI A JÁDRO <</h2>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th data-translate-key="table_feature">Funkce</th>
                        <th data-translate-key="table_status">Stav</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_core">Jádro Prohlížeče</td>
                        <td data-translate-key="comp_core_val">Chromium (QtWebEngine)</td>
                    </tr>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_tabs">Zavírání Karet bez Zvuku na Pozadí</td>
                        <td><span class="check-mark">✓</span></td>
                    </tr>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_history">Časová Historie s Mazáním</td>
                        <td><span class="check-mark">✓</span></td>
                    </tr>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_downloads">Správa Stahování</td>
                        <td><span class="check-mark">✓</span></td>
                    </tr>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_settings">Uložení Domovské Stránky</td>
                        <td><span class="check-mark">✓</span></td>
                    </tr>
                    <tr>
                        <td class="feature-name" data-translate-key="comp_price">Cena</td>
                        <td data-translate-key="comp_price_val">Zdarma</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="autor">
            <h2 data-translate-key="author_h2">> AUTORIZOVANÝ VÝVOJ <</h2>
            <p data-translate-key="author_p1">Tento projekt byl vytvořen digitálním inženýrem <strong>Sebastianem ********</strong> (známým v síti jako <strong>SirSebulka</strong>).</p>
            <p data-translate-key="author_p2">Prohlížeč je koncipován jako volný nástroj s důrazem na jednoduchost a funkčnost pro komunitu. <strong>Hlášení problémů je vítáno na: sirsebulka@seznam.cz</strong></p>
        </section>

    </div>

    <footer>
        &copy; 2025 Minimalistický Prohlížeč - Vyvinuto jednotkou <span data-translate-key="footer_author"><a href="#">SirSebulka (Sebastian *******)</a></span>. <span data-translate-key="footer_rights">Všechna práva vyhrazena. | Připojení Zabezpečeno.</span>
    </footer>

    <div id="modal1" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3 data-translate-key="modal1_h3">[01] Rychlá Správa Historie</h3>
            <p data-translate-key="modal1_p1"><strong>Timestampované Záznamy:</strong> Každá navštívená stránka je uložena s <strong>přesným časovým razítkem</strong> pro snadnou orientaci.</p>
            <p data-translate-key="modal1_p2"><strong>Skupinové Zobrazení a Akce:</strong> Historie je přehledně seřazena <strong>podle dne</strong>. Každou položku můžete <strong>dvojklikem otevřít</strong> v nové kartě nebo ji <strong>jednotlivě smazat</strong> přes kontextové menu.</p>
            <p data-translate-key="modal1_p3">Funkce "Vymazat celou historii" umožňuje kompletní reset dat.</p>
        </div>
    </div>

    <div id="modal2" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3 data-translate-key="modal2_h3">[02] Adaptivní Tab Management</h3>
            <p data-translate-key="modal2_p1"><strong>Oprava Zvukového Bugu:</strong> Při zavření karty se stránka korektně uvolní z paměti, což <strong>zastaví přehrávání zvuků/videa na pozadí</strong>, typický problém u QtWebEngine aplikací.</p>
            <p data-translate-key="modal2_p2"><strong>Záchyt Nových Oken:</strong> Odkazy, které by se standardně otevřely v novém okně (např. s atributem <code>target="_blank"</code>), jsou automaticky <strong>zachyteny a otevřeny v nové kartě</strong> pro lepší přehled.</p>
            <p data-translate-key="modal2_p3">Maximalizujeme konzistentní uživatelský zážitek v jednom okně.</p>
        </div>
    </div>

    <div id="modal3" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3 data-translate-key="modal3_h3">[03] Persistace a Nastavení</h3>
            <p data-translate-key="modal3_p1"><strong>Nastavitelná Domovská Stránka:</strong> V menu "Nastavení" můžete snadno definovat, jakou URL má prohlížeč automaticky načíst při spuštění a při otevření nové karty.</p>
            <p data-translate-key="modal3_p2"><strong>Perzistentní Data:</strong> Historie, nastavení domovské stránky a cache jsou <strong>bezpečně uloženy mimo složku programu</strong> ve standardním adresáři pro data aplikací (AppData), což zajišťuje jejich zachování.</p>
            <p data-translate-key="modal3_p3">Prohlížeč si pamatuje vaše preference, aby byl okamžitě připraven k použití.</p>
        </div>
    </div>

    <script>
        // Datová struktura s překlady
        const translations = {
            cs: {
                title: "Minimalistický Prohlížeč - Rychlost a Soukromí",
                header_h1: ":: MINIMALISTICKÝ PROHLÍŽEČ ::",
                header_p: "// <strong>Rychlost. Soukromí. Přehled.</strong> //",
                section_h2: "> ZAMĚŘENO NA JEDNODUCHOST <",
                section_p1: "<strong>Minimalistický Prohlížeč</strong> je postaven na moderním jádře <strong>Chromium (QtWebEngine)</strong>, avšak s radikálně osekaným rozhraním. <strong>Žádné zbytečnosti, jen obsah.</strong>",
                section_p2: "Navrženo pro uživatele, kteří chtějí čisté prostředí, okamžitý start a efektivní správu karet a historie.",
                feature1_h3: "[01] Rychlá Správa Historie",
                feature1_p: "Historie s časovým razítkem, možností mazání a otevírání do nové karty. <strong>[KLIKNĚTE pro detaily]</strong>",
                feature2_h3: "[02] Adaptivní Tab Management",
                feature2_p: "Karty, které se samy postarají o spuštění v novém okně (pop-up) a oprava bugu se zvukem. <strong>[KLIKNĚTE pro detaily]</strong>",
                feature3_h3: "[03] Persistace a Nastavení",
                feature3_p: "Uložení domovské stránky a historie pro rychlý návrat k práci. <strong>[KLIKNĚTE pro detaily]</strong>",
                
                // Klíče pro stahování
                download_btn_full: "[ STÁHNOUT .exe (BETA 1.0) ]",
                download_version: "Verze BETA 1.0 - Připraveno k testování",
                
                // Klíče pro Vlastnosti (původní porovnání)
                comparison_h2: "> VLASTNOSTI A JÁDRO <",
                table_feature: "Funkce",
                table_status: "Stav",
                comp_core: "Jádro Prohlížeče",
                comp_core_val: "Chromium (QtWebEngine)",
                comp_tabs: "Zavírání Karet bez Zvuku na Pozadí",
                comp_history: "Časová Historie s Mazáním",
                comp_downloads: "Správa Stahování",
                comp_settings: "Uložení Domovské Stránky",
                comp_price: "Cena",
                comp_price_val: "Zdarma",

                author_h2: "> AUTORIZOVANÝ VÝVOJ <",
                author_p1: "Tento projekt byl vytvořen digitálním inženýrem <strong>Sebastianem ********</strong> (známým v síti jako <strong>SirSebulka</strong>).",
                author_p2: "Prohlížeč je koncipován jako volný nástroj s důrazem na jednoduchost a funkčnost pro komunitu. <strong>Hlášení problémů je vítáno na: sirsebulka@seznam.cz</strong>",
                footer_author: '<a href="#">SirSebulka (Sebastian *******)</a>',
                footer_rights: "Všechna práva vyhrazena. | Připojení Zabezpečeno.",
                // Modals
                modal1_h3: "[01] Rychlá Správa Historie",
                modal1_p1: "<strong>Timestampované Záznamy:</strong> Každá navštívená stránka je uložena s <strong>přesným časovým razítkem</strong> pro snadnou orientaci.",
                modal1_p2: "<strong>Skupinové Zobrazení a Akce:</strong> Historie je přehledně seřazena <strong>podle dne</strong>. Každou položku můžete <strong>dvojklikem otevřít</strong> v nové kartě nebo ji <strong>jednotlivě smazat</strong> přes kontextové menu.",
                modal1_p3: "Funkce \"Vymazat celou historii\" umožňuje kompletní reset dat.",

                modal2_h3: "[02] Adaptivní Tab Management",
                modal2_p1: "<strong>Oprava Zvukového Bugu:</strong> Při zavření karty se stránka korektně uvolní z paměti, což <strong>zastaví přehrávání zvuků/videa na pozadí</strong>, typický problém u QtWebEngine aplikací.",
                modal2_p2: "<strong>Záchyt Nových Oken:</strong> Odkazy, které by se standardně otevřely v novém okně (např. s atributem <code>target=\"_blank\"</code>), jsou automaticky <strong>zachyteny a otevřeny v nové kartě</strong> pro lepší přehled.",
                modal2_p3: "Maximalizujeme konzistentní uživatelský zážitek v jednom okně.",

                modal3_h3: "[03] Persistace a Nastavení",
                modal3_p1: "<strong>Nastavitelná Domovská Stránka:</strong> V menu \"Nastavení\" můžete snadno definovat, jakou URL má prohlížeč automaticky načíst při spuštění a při otevření nové karty.",
                modal3_p2: "<strong>Perzistentní Data:</strong> Historie, nastavení domovské stránky a cache jsou <strong>bezpečně uloženy mimo složku programu</strong> ve standardním adresáři pro data aplikací (AppData), což zajišťuje jejich zachování.",
                modal3_p3: "Prohlížeč si pamatuje vaše preference, aby byl okamžitě připraven k použití.",
            },
            en: {
                title: "Minimalist Browser - Speed and Privacy",
                header_h1: ":: MINIMALIST BROWSER ::",
                header_p: "// <strong>Speed. Privacy. Clarity.</strong> //",
                section_h2: "> FOCUSED ON SIMPLICITY <",
                section_p1: "The <strong>Minimalist Browser</strong> is built on the modern <strong>Chromium (QtWebEngine)</strong> core, but with a radically stripped-down interface. <strong>No clutter, just content.</strong>",
                section_p2: "Designed for users who want a clean environment, instant start-up, and efficient tab and history management.",
                feature1_h3: "[01] Fast History Management",
                feature1_p: "Timestamped history with the option to delete and open in a new tab. <strong>[CLICK for details]</strong>",
                feature2_h3: "[02] Adaptive Tab Management",
                feature2_p: "Tabs that automatically handle pop-up windows and a fix for the background sound bug. <strong>[CLICK for details]</strong>",
                feature3_h3: "[03] Persistence and Settings",
                feature3_p: "Saving the homepage and history for a quick return to work. <strong>[CLICK for details]</strong>",
                
                // Download keys
                download_btn_full: "[ DOWNLOAD .exe (BETA 1.0) ]",
                download_version: "Version BETA 1.0 - Ready for testing",
                
                // Feature keys (original comparison)
                comparison_h2: "> FEATURES AND CORE <",
                table_feature: "Feature",
                table_status: "Status",
                comp_core: "Browser Core",
                comp_core_val: "Chromium (QtWebEngine)",
                comp_tabs: "Closing Tabs without Background Sound",
                comp_history: "Timestamped History with Deletion",
                comp_downloads: "Download Management",
                comp_settings: "Homepage Saving",
                comp_price: "Price",
                comp_price_val: "Free",

                author_h2: "> AUTHORIZED DEVELOPMENT <",
                author_p1: "This project was created by digital engineer <strong>Sebastian *******</strong> (known online as <strong>SirSebulka</strong>).",
                author_p2: "The browser is conceived as a free tool with an emphasis on simplicity and functionality for the community. <strong>Bug reports are welcome at: sirsebulka@seznam.cz</strong>",
                footer_author: '<a href="#">SirSebulka (Sebastian *******)</a>',
                footer_rights: "All rights reserved. | Connection Secured.",
                // Modals
                modal1_h3: "[01] Fast History Management",
                modal1_p1: "<strong>Timestamped Records:</strong> Every visited page is saved with a <strong>precise timestamp</strong> for easy orientation.",
                modal1_p2: "<strong>Grouped View and Actions:</strong> History is clearly organized <strong>by day</strong>. You can <strong>double-click to open</strong> any item in a new tab or <strong>delete it individually</strong> via the context menu.",
                modal1_p3: "The \"Clear all history\" function allows for a complete data reset.",

                modal2_h3: "[02] Adaptive Tab Management",
                modal2_p1: "<strong>Sound Bug Fix:</strong> When a tab is closed, the page is correctly released from memory, which <strong>stops background audio/video playback</strong>, a common issue in QtWebEngine applications.",
                modal2_p2: "<strong>New Window Interception:</strong> Links that would normally open in a new window (e.g., with the <code>target=\"_blank\"</code> attribute) are automatically <strong>intercepted and opened in a new tab</strong> for better overview.",
                modal2_p3: "We maximize a consistent user experience within a single window.",

                modal3_h3: "[03] Persistence and Settings",
                modal3_p1: "<strong>Configurable Homepage:</strong> In the \"Settings\" menu, you can easily define the URL the browser should automatically load on startup and when opening a new tab.",
                modal3_p2: "<strong>Persistent Data:</strong> History, homepage settings, and cache are <strong>securely saved outside the program folder</strong> in the standard application data directory (AppData), which ensures their preservation.",
                modal3_p3: "The browser remembers your preferences so it is immediately ready for use.",
            }
        };

        // Funkce pro překlad celé stránky (ZŮSTÁVÁ STEJNÁ)
        function translatePage(lang) {
            const elements = document.querySelectorAll('[data-translate-key]');
            const langData = translations[lang];

            elements.forEach(el => {
                const key = el.getAttribute('data-translate-key');
                const translation = langData[key];

                if (translation) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.value = translation;
                    } else if (el.tagName === 'TITLE') {
                         document.title = translation;
                    } else if (el.hasAttribute('download')) {
                        // Tlačítko pro stažení - mění pouze vnitřní text
                        el.innerHTML = translation;
                    } else {
                        // Ostatní elementy
                        el.innerHTML = translation;
                    }
                }
            });

            // Aktivní tlačítko
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.lang-btn[data-lang="${lang}"]`).classList.add('active');
            
            // Uložení volby
            localStorage.setItem('userLanguage', lang);
        }

        // ------------------------------------------------------------------
        // Inicializace: Zjištění jazyka při načtení stránky (ZŮSTÁVÁ STEJNÁ)
        // ------------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            // 1. Zkusí načíst jazyk z Local Storage (manuální volba uživatele)
            let storedLang = localStorage.getItem('userLanguage');

            // 2. Pokud není v Local Storage, zkusí detekovat jazyk prohlížeče
            if (!storedLang) {
                const browserLang = navigator.language.substring(0, 2); // např. "cs-CZ" -> "cs"
                if (translations.hasOwnProperty(browserLang)) {
                    storedLang = browserLang;
                } else {
                    // 3. Výchozí (fallback) jazyk
                    storedLang = 'cs';
                }
            }

            // 4. Aplikuje vybraný jazyk
            translatePage(storedLang);

            // 5. Nastavení event listenerů pro manuální přepínání
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const newLang = e.target.getAttribute('data-lang');
                    translatePage(newLang);
                });
            });

            // Logika pro modální okna (zůstává beze změny)
            const featureItems = document.querySelectorAll('.feature-item');
            const closeButtons = document.querySelectorAll('.close-btn');

            function openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.style.display = 'block';
                }
            }

            function closeModal(modalElement) {
                modalElement.style.display = 'none';
            }

            featureItems.forEach(item => {
                item.addEventListener('click', () => {
                    const modalId = item.getAttribute('data-modal-target');
                    if (modalId) {
                        openModal(modalId);
                    }
                });
            });

            closeButtons.forEach(btn => {
                btn.addEventListener('click', (event) => {
                    const modal = event.target.closest('.modal');
                    if (modal) {
                        closeModal(modal);
                    }
                });
            });

            window.addEventListener('click', (event) => {
                if (event.target.classList.contains('modal')) {
                    closeModal(event.target);
                }
            });

            document.addEventListener('keydown', (event) => {
                if (event.key === "Escape") {
                    const visibleModal = document.querySelector('.modal[style*="block"]');
                    if (visibleModal) {
                        closeModal(visibleModal);
                    }
                }
            });
        });
    </script>
</body>
</html>
